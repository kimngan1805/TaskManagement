<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ProgressBar?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<BorderPane xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.taskproject.ProjectDetailController">
    <left>
        <!-- Sidebar -->
        <VBox prefHeight="600.0" prefWidth="246.0" styleClass="sidebar" stylesheets="@../../../css/project-detail.css">
            <!-- Logo Section -->
            <VBox alignment="CENTER" prefHeight="120.0" styleClass="logo-section">
                <ImageView fitHeight="83.0" fitWidth="122.0" pickOnBounds="true" preserveRatio="true">
                    <image>
                        <Image url="@image/logo.png" />
                    </image>
                </ImageView>
            </VBox>

            <!-- Navigation Menu -->
            <VBox prefHeight="470.0" prefWidth="225.0" spacing="5.0" styleClass="nav-menu">
                <Button mnemonicParsing="false" prefHeight="46.0" prefWidth="224.0" styleClass="nav-button" text="ðŸ  Home" onAction="#goBackHome" />
                <Button mnemonicParsing="false" prefHeight="45.0" prefWidth="209.0" styleClass="nav-button" text="ðŸŽ® Game Studio" />
                <Button mnemonicParsing="false" prefHeight="45.0" prefWidth="217.0" styleClass="nav-button" text="ðŸ“ My Classes" />
                <Button mnemonicParsing="false" prefHeight="45.0" prefWidth="200.0" styleClass="nav-button" text="ðŸ  My Rooms" />
                <Button mnemonicParsing="false" prefHeight="45.0" prefWidth="200.0" styleClass="nav-button" text="ðŸ“Š Activity" />
                <Button mnemonicParsing="false" prefHeight="45.0" prefWidth="200.0" styleClass="nav-button" text="ðŸ“ˆ Analysis" />
                <Button mnemonicParsing="false" prefHeight="45.0" prefWidth="200.0" styleClass="nav-button" text="ðŸ‘¥ Contacts" />

                <Region VBox.vgrow="ALWAYS" />

                <Button mnemonicParsing="false" prefHeight="45.0" prefWidth="200.0" styleClass="nav-button" text="âš™ï¸ Settings" />
                <Button mnemonicParsing="false" prefHeight="45.0" prefWidth="200.0" styleClass="nav-button" text="ðŸšª Logout" />
            </VBox>
        </VBox>
    </left>

    <center>
        <ScrollPane fitToWidth="true" styleClass="scroll-pane">
            <!-- Main Content -->
            <VBox styleClass="main-content" stylesheets="@../../../css/style.css">

                <!-- Header -->
                <HBox alignment="CENTER_RIGHT" prefHeight="74.0" spacing="15.0" styleClass="header">
                    <HBox alignment="CENTER_LEFT" spacing="10.0" HBox.hgrow="ALWAYS">
                        <Button styleClass="back-button" text="â† Back" onAction="#goBackHome" />
                        <Label styleClass="breadcrumb" text="Projects" />
                        <Label styleClass="breadcrumb" text=">" />
                        <Label fx:id="projectBreadcrumb" styleClass="breadcrumb" text="Project Details" />
                    </HBox>

                    <Button mnemonicParsing="false" styleClass="header-button">
                        <graphic>
                            <Label text="ðŸŒ™" />
                        </graphic>
                    </Button>
                    <Button mnemonicParsing="false" styleClass="header-button">
                        <graphic>
                            <Label text="âœ‰ï¸" />
                        </graphic>
                    </Button>
                    <Button mnemonicParsing="false" styleClass="header-button">
                        <graphic>
                            <Label text="ðŸ””" />
                        </graphic>
                    </Button>

                    <HBox alignment="CENTER" spacing="10.0" styleClass="user-profile">
                        <HBox alignment="CENTER" prefHeight="35.0" prefWidth="35.0" styleClass="user-avatar">
                            <Label styleClass="user-initial" text="O" />
                        </HBox>
                        <VBox alignment="CENTER_LEFT">
                            <Label styleClass="user-name" text="Osama.A" />
                            <Label styleClass="user-role" text="Teacher" />
                        </VBox>
                    </HBox>
                </HBox>

                <Region prefHeight="20.0" />

                <!-- Project Detail Content -->
                <VBox spacing="30.0" styleClass="content-section">

                    <!-- Project Header Card -->
                    <VBox spacing="20.0" styleClass="project-header-card">
                        <HBox alignment="CENTER_LEFT" spacing="20.0">
                            <VBox alignment="CENTER" prefHeight="80.0" prefWidth="80.0" styleClass="project-icon-large">
                                <Label styleClass="project-icon-text-large" text="ðŸ“š" />
                            </VBox>
                            <VBox spacing="10.0" HBox.hgrow="ALWAYS">
                                <Label fx:id="projectTitle" styleClass="project-title-large" text="Project Title" />
                                <Label fx:id="projectCategory" styleClass="project-subtitle" text="Category" />
                                <HBox spacing="20.0" styleClass="project-meta-row">
                                    <HBox spacing="8.0" alignment="CENTER_LEFT">
                                        <Label text="ðŸ“…" styleClass="meta-icon" />
                                        <Label text="Start:" styleClass="meta-label" />
                                        <Label fx:id="projectStartDate" styleClass="meta-value" text="Mar 15, 2024" />
                                    </HBox>
                                    <HBox spacing="8.0" alignment="CENTER_LEFT">
                                        <Label text="ðŸŽ¯" styleClass="meta-icon" />
                                        <Label text="Due:" styleClass="meta-label" />
                                        <Label fx:id="projectDueDate" styleClass="meta-value" text="Mar 30, 2024" />
                                    </HBox>
                                    <HBox spacing="8.0" alignment="CENTER_LEFT">
                                        <Label text="ðŸ‘¥" styleClass="meta-icon" />
                                        <Label fx:id="projectStudents" styleClass="meta-value" text="8 Students" />
                                    </HBox>
                                    <HBox spacing="8.0" alignment="CENTER_LEFT">
                                        <Label text="â±ï¸" styleClass="meta-icon" />
                                        <Label fx:id="projectDuration" styleClass="meta-value" text="45 Min" />
                                    </HBox>
                                </HBox>
                            </VBox>
                            <VBox spacing="10.0" alignment="CENTER_RIGHT">
                                <Button styleClass="action-btn-primary" text="ðŸš€ Start Project" />
                                <Button styleClass="action-btn-secondary" text="âœï¸ Edit Details" />
                            </VBox>
                        </HBox>

                        <!-- Project Description -->
                        <VBox spacing="10.0">
                            <Label styleClass="section-subtitle" text="ðŸ“‹ Project Description" />
                            <Label fx:id="projectDescription" styleClass="description-text" text="This is the project description. It will be populated with the actual project details when a card is clicked." wrapText="true" />
                        </VBox>

                        <!-- Progress Section -->
                        <VBox spacing="12.0">
                            <HBox alignment="CENTER_LEFT" spacing="10.0">
                                <Label text="ðŸ“ˆ" styleClass="meta-icon" />
                                <Label styleClass="section-subtitle" text="Project Progress" />
                                <Region HBox.hgrow="ALWAYS" />
                                <Label fx:id="progressPercentage" styleClass="progress-percentage" text="85%" />
                            </HBox>
                            <ProgressBar fx:id="progressBar" prefWidth="400.0" progress="0.85" styleClass="modern-progress-bar" />
                        </VBox>
                    </VBox>

                    <!-- Tasks Management Section -->
                    <VBox spacing="20.0" styleClass="tasks-section">
                        <HBox alignment="CENTER_LEFT" spacing="15.0">
                            <Label text="ðŸ“‹" styleClass="section-icon" />
                            <Label styleClass="section-title" text="Task Management" />
                            <Region HBox.hgrow="ALWAYS" />
                            <Button fx:id="addTaskBtn" styleClass="add-task-btn" text="+ Add Task" onAction="#showAddTaskDialog" />
                        </HBox>

                        <!-- Tasks Table -->
                        <TableView fx:id="taskTable" styleClass="modern-table">
                            <columns>
                                <TableColumn fx:id="taskNameCol" prefWidth="200.0" text="Task Name" />
                                <TableColumn fx:id="taskDescriptionCol" prefWidth="250.0" text="Description" />
                                <TableColumn fx:id="taskAssigneeCol" prefWidth="150.0" text="Assigned To" />
                                <TableColumn fx:id="taskStartDateCol" prefWidth="120.0" text="Start Date" />
                                <TableColumn fx:id="taskDueDateCol" prefWidth="120.0" text="Due Date" />
                                <TableColumn fx:id="taskStatusCol" prefWidth="100.0" text="Status" />
                                <TableColumn fx:id="taskActionsCol" prefWidth="100.0" text="Actions" />
                            </columns>
                        </TableView>
                    </VBox>

                    <!-- Recent Activities -->
                    <VBox spacing="15.0" styleClass="activities-card">
                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                            <Label text="ðŸ””" styleClass="section-icon" />
                            <Label styleClass="section-title" text="Recent Activities" />
                        </HBox>
                        <VBox spacing="12.0">
                            <HBox alignment="CENTER_LEFT" spacing="15.0" styleClass="activity-item">
                                <VBox alignment="CENTER" prefHeight="40.0" prefWidth="40.0" styleClass="activity-icon">
                                    <Label text="ðŸ“" />
                                </VBox>
                                <VBox spacing="3.0" HBox.hgrow="ALWAYS">
                                    <Label styleClass="activity-title" text="Project created" />
                                    <Label styleClass="activity-time" text="2 hours ago" />
                                </VBox>
                            </HBox>
                            <HBox alignment="CENTER_LEFT" spacing="15.0" styleClass="activity-item">
                                <VBox alignment="CENTER" prefHeight="40.0" prefWidth="40.0" styleClass="activity-icon">
                                    <Label text="ðŸ‘¥" />
                                </VBox>
                                <VBox spacing="3.0" HBox.hgrow="ALWAYS">
                                    <Label styleClass="activity-title" text="8 students enrolled" />
                                    <Label styleClass="activity-time" text="1 hour ago" />
                                </VBox>
                            </HBox>
                            <HBox alignment="CENTER_LEFT" spacing="15.0" styleClass="activity-item">
                                <VBox alignment="CENTER" prefHeight="40.0" prefWidth="40.0" styleClass="activity-icon">
                                    <Label text="âœ…" />
                                </VBox>
                                <VBox spacing="3.0" HBox.hgrow="ALWAYS">
                                    <Label styleClass="activity-title" text="First milestone completed" />
                                    <Label styleClass="activity-time" text="30 minutes ago" />
                                </VBox>
                            </HBox>
                        </VBox>
                    </VBox>

                </VBox>
            </VBox>
        </ScrollPane>
    </center>
</BorderPane>